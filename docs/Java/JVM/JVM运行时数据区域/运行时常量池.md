# 运行时常量池

> ***线程共享***

运行时常量池（Runtime Constant Pool）

这是方法区的一部分。如果仔细分析过反编译的类文件结构，你能看到版本号、字段、方法、超类、接口等各种信息，还有一项信息就是常量池。Java 的常量池可以存放各种常量信息，不管是编译期生成的各种字面量，还是需要在运行时决定的符号引用，所以它比一般语言的符号表存储的信息更加宽泛。


### 版本变化

- JDK 1.7 之前运行时常量池包含字符串常量池存放在方法区, 此时 HotSpot 用永久代实现方法区。

- JDK 1.7 字符串常量池从方法区移到了堆中, 这里没有提到运行时常量池，也就是说字符串常量池被单独移到堆里，运行时常量池剩下的东西还在方法区, 也就是 HotSpot 的永久代。

- JDK 1.8 HotSpot 移除了永久代，用元空间取而代之, 字符串常量池还在堆里, 运行时常量池还在方法区, 只不过方法区的实现从永久代变成了元空间。