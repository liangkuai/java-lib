# equals() 和 hashCode()

## == 和 equals()

### 1. ==
用来判断两个变量的值是否相等
- 对于基本类型的变量，比较的就是数据值
- 对于引用类型的变量，比较的就是地址（因为引用类型的变量存储的就是地址）

> 如果一个基本类型的变量和对应的包装类型的变量比较，包装类型会自动拆箱，所以就是比较数据值。


### 2. equals
用来判断两个对象是否相等，不能用来比较基本数据类型的变量。
- 如果对应的类重写了继承自 `Object` 类的 `equals()` 方法，直接调用对象的 `equals()` 方法进行比较。
- 如果对应的类没有重写 `equals()` 方法，那就默认使用 `Object` 类的 `equals()` 方法，跟「==」效果一样。


## hashCode()

`hashCode()` 的作用是获取哈希码、散列码，它实际上是返回一个 int 整数。

`hashCode()` 定义在 JDK 的 `Object` 类中，这就意味着 Java 中的任何类都包含有 `hashCode()` 函数。另外需要注意的是：`Object` 的 `hashCode()` 方法是本地方法，该方法通常用来将对象的内存地址转换为整数之后返回。

### 1. hashCode() 有什么用？
这个哈希码的作用是确定对象在哈希表中的索引位置，所以这个方法只有在哈希表相关的方法中才有用。

以 `HashMap` 为例，添加键值对时，会先根据 key 的 hashcode 来计算加入数组的位置（加入哪个哈希桶），再根据 key 的 `equals()` 方法判断哈希桶里是否有相同的 key 已经存在。

### 2. hashCode() 和 equals()
面试经常问：你重写过 `hashCode()` 和 `equals()` 吗？，为什么重写 `equals()` 时必须重写 `hashCode()` 方法？

参考 `HashMap` 添加键值对时 `hashCode()` 的作用，可以得出，
- 如果两个对象，`equals()` 判断相同，`hashCode()` 也一定相同。
- 如果两个对象，`hashCode()` 相同，`equals`() 判断不一定相同。

如果只重写 `equals()` 没有重写 `hashCode()`，就会出现这种情况：`equals()` 判断相同的两个 key hashCode 不同，两个键值对就会添加到不同的哈希桶中，导致 `HashMap` 中存在重复 key。